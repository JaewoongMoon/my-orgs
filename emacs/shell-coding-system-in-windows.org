* 개요
윈도우즈에서 이맥스를 사용하는 환경에서 셸을 사용하려고 하면 리눅스와는 달리 여러가지 문제가 발생한다. 

발생할 수 있는 문제들을 정리해놓은 문서이다.


* 셸 구동시 에러 문제
셸을 구동하면 code 53 에러가 출력되면서 실행이 안될 때가 잇다. 

스택오버플로에서 찾아보면 grep과 관련된 문제이다. 

다음 URL을 참고해서 의존성 라이브러리를 이맥스의 bin 디렉토리에 복사해주면 된다. 

참고 : https://stackoverflow.com/questions/2328079/grep-failing-with-emacs-windows-and-gnuwin32-grep

여기서 중요한 것은, libiconv2.dll 파일의 경우 기존 파일(libiconv-2.dll)과 충돌이 발생하므로 복사하지 않아야 한다는 것이다.
나머지 라이브러리 libintl3.dll, pcre3.dll, regex2.dll 를 복사하면 된다. 




* 한글 깨짐 문제

윈도우즈 환경에서 셸(M-x shell)을 실행하면 한글부분이 깨져서 보인다. 

chcp 를 쳐보면 현재 코드 페이지가 949가 출력된다. 

chcp 65001 을 쳐서 UTF-8로 바꾸면 한글이 제대로 출력되나, 이맥스 재구동시 다시 원래대로 돌아가 있다. 

영구적으로 기본 코드 페이지를 UTF-8로 바꾸려면 윈도우즈 레지스트리에 값을 추가해야 한다고 한다. 

참고 : https://stackoverflow.com/questions/7432545/change-codepage-in-cmd-permanently

위의 방법대로 하면 확실히 기본 cmd 프로그램에서는 코드 페이지가 65001로 변경되어 있지만 왜인지 이맥스 셸에서는 여전히 코드 949가 출력된다. 

결국 방법은 찾지 못했다. 

그냥 이맥스 셸(M-x eshell)을 사용하기로 했다. 

이맥스 셸은 UTF-8 인코딩이 제대로 사용되고 있어서 한글이 깨지지 않는다. 




