#+TITLE: 로컬 리소스 진단
#+AUTHOR: jwmoon

* 개요
안드로이드 앱이 사용하는 로컬 자원을 진단하는 방법을 설명하는 문서이다. 

크게 세가지 부분을 본다. 로컬 DB, 로컬 파일(캐시), 로그 

점검하는 포인트는 로컬 리소스를 수정하는 것으로 사용자에게 유리하게 앱의 기능을 사용할 수 있는지 여부, 그리고 로컬 리소스에 중요 정보(개인정보 등)가 저장되어 있는지 등이다. 

* 로컬 DB
** 개념
- Android는 자체적인 파일관리 기능이 없고, 리눅스의 파일관리 기능을 사용한다.

** 파일 위치
- 안드로이드에서는 앱이 접근가능한 경로를 /data/data/패키지명 으로 한정한다. 
- 앱은 그 이외의 임의 경로의 파일을 마음대로 접근할 수 없다. 
- /data/data/패키지명 경로의 디렉토리와 파일들을 PC로 복사해(/mnt/sahred/App 디렉터리) HEXA 에디터 등으로 분석한다.

확인가능한 디렉토리는 다음과 같다. 

| 디렉토리명   | 설명                              |
|--------------+-----------------------------------|
| lib          | 앱에서 사용하는 라이브러리        |
| shared_prefs | 선호하는 설정(Shared Preferences) |
| databases    | 로컬 DB (sqlite3)                 |


** 로컬 DB Viewer
PC에 별도 viewer를 설치한 후에 sqlite3 파일을 열어서 확인한다. DB Browser for SQLite 라는 툴을 사용한다. 

* 로컬 파일(캐시)
** 개념
- 세이브 파일이나 기타 주요한 파일들을 확인/조작해본다. 

** 위치
/sdcard/Android/data/패키지명

| 디렉토리명   | 설명                              |
|--------------+-----------------------------------|
| cache        | 캐시된 파일                 |
| files        | 앱에서 사용하는 파일             |

   

* 로그
로그에 민감한 정보가 들어있는지 등을 확인한다.

** 로그 확인 방법
*** CatLog
CatLog 라는 프로그램을  앱스토어에서 다운로드 받는다. 
필터를 통해서 특정 로그만 볼 수 있다. 예를들어 unity 라고 입력하면 unity 로그만 확인 가능하다. 

*** ADB
sdk 에 포함된 ADB 를 통해서도 로그를 확인할 수 있따. 




