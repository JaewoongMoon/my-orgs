#+TITLE: 안드로이드 앱 메모리 변조 가능 여부 진단
#+AUTHOR: jwmoon

* 개요 
- 게임 어플리케이션 같은 경우 게임 머니나 스테이터스 등을 메모리 변조를 통해 바꿀 수 있는 경우가 있다. 
- 그런 것을 테스트하기 위해 사용한다. 


* 준비 
일단 루팅은 필수적이다.  Android 는 리눅스 커널에 기반하고 있기 때문에 리눅스의 메모리를 Attach 하는 방식으로 다른 프로세스의 메모리를 접근, 변조할 수 있다.

* SuperSu 설치
- 메모리 변조를 하기위해서는 어플리케이션을 루트 권한으로 실행시켜주는 툴이 필요하다. 
- 앱스토어에서 SuperSu를 설치한다. 


* 메모리 변조 툴 설치
- 다음 URL에서 APK 를 받아서 설치한다. 
- https://hackerbot.net/mobile/android/16-top-android-game-hacking-cheating-apps
- 게임 가디언은 Nox 6.x 버전 이상에서는 설치가 안된다는 듯 하다. 

** 트러블슈팅
최신버전의 녹스 (6.x 이상) 에서는 Game Guardian 이 설치되지 않는 문제가 있다. (2018.7.27)

[[./img/game-guardian-fail-nox-6.png]]

다른 메모리 변조 툴인 Game Hacker 를 설치해봤지만 'Your device x86 CPU architecture is not supported!' 가 출력되면서 실패. 

녹스 5 버전을 설치하고 다시 시도해보니 잘 된다. 녹스 버전을 올리면 안되겠군.



* 메모리 변조 방어를 위해서는?
- 어뷰징에 사용될 수 있는 값들은 모두 서버 단으로 옮긴다. (서버에서 계산되어 클라이언트에 적용되는 형태로 구현해야 한다.)
- 값 보호 라이브러리를 도입한다. 메모리의 값이 검색되지 않도록 분산, 인코딩을 통하여 저장하고 값을 조합하여 전달해 주는 방식의 라이브러리를 도입해야 한다.

