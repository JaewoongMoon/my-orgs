#+TITLE: 안드로이드 앱 진단 가이드 
#+AUTHOR: jwmoon

* 개요
안드로이드 모바일 앱 진단 가이드이다. 

** 보안 기본 지식
안드로이드 어플리케이션은 각자의 메모리 공간을 부여받아 각자 다른 프로세스 ID와 유저 ID를 가지고 실행된다. 다른 어플리케이션에서 메모리를 읽고 쓰는 작업은 금지된다. 


** 진단 포인트 
진단하는 포인트는 크게 다음 네 가지이다. 
- 소스코드/리소스 파일 조작
- 메모리 조작
- 통신 구간 (HTTP/HTTPS 통신)조작 
- DB/로컬 파일 조작


* 기본 환경 설정
진단을 하기 위해서는 먼저 모바일 앱을 구동시킬 에뮬레이터를 설치할 필요가 있다. 
가장 기본적인 환경설정인 에뮬레티어 설치와 루팅 설정을 설명한다. 

** 애뮬레이터 설치
- 본 매뉴얼에서는 Nox 라는 에뮬레이터를 설치한다. 
- 구글 검색 혹은 다음 URL에서 다운로드 한다. 
- https://nox-app-player.kr.uptodown.com/windows/download
- 2018.5.21 기준 최신버전은 6.0.9.0 이다. 

** 루팅 (Rooting) 설정
- 루팅이란 루트 계정으로 로그인을 한다는 의미이다. 
- 루팅을 하면 일반유저로는 할 수 없는 작업이 가능하다. 
- 예를 들면 네트워크 프록시를 변경한다던가 하는 작업 등이 가능해진다. 따라서 진단을 할 때는 반드시 루팅하는 것이 필요하다. 
- 실제 핸드폰에서는 루팅하는 과정이 다소 복잡하지만 녹스에서는 간단하게 설정이 가능하다. 
- 녹스 화면 상단 'System Setting' 으로 들어간다. 
- 'Root Startup'을 'Enable'로 설정하고 저장한다.

[[./img/3-rooting-nox.png]]


* 소스코드/리소스 파일 진단
file:2.source-code-diag.org

* 메모리 변조 가능 여부 진단
file:3.memory-diag.org

* 네트워크 트래픽 캡처/조작
file:4.network-traffic-capture.org

* 로컬 DB/파일 조작
file:5.local-db-file-diag.org
