#+TITLE: CVE-2018-6389 Apache ModSecurity 를 사용한 대응
#+AUTHOR: jwmoon

* 개요
- 스크립트를 사용한 대응 방법은 두 가지 단점이 존재
- 워드프레스 버전을 업그레이드 할 때마다 패치를 해야한다는 점
- 관리자 페이지의 로딩이 느려진다는 점
- 어플리케이션이 아니라 웹서버의 기능을 활용해서 취약점에 대응한다. 
- 이 취약점은 수 많은 동일한 요청을 서버가 제한없이 받아들일 때 발생한다. 
- 서버측에서 받아들일 요청 수에 제한을 건다면 DOS공격을 막을 수 있을 것이다. 

* 적용방법
** ModSecurity 설치

** Threshold 설정
20개만 허용하도록 해보자.

* 결과
다음 스크립트로 테스트해본다.

#+BEGIN_SRC bash 
python doser.py -g '공격URL' -t 30
#+END_SRC

30개의 요청을 보냈을 때에 어떻게 되는가?

* Ref
- https://www.rastating.com/protecting-wordpress-against-cve-2018-6389/
